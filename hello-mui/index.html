
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>和包基础功能测试页面</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <script type="text/javascript" src="js2/jquery.js"></script>
    <link rel="stylesheet" href="css/mui.min.css" />
    <style type="text/css">
    #list {
        /*避免导航边框和列表背景边框重叠，看起来像两条边框似得；*/
        margin-top: -1px;
    }
    </style>
    <style>
    html,
    body {
        background-color: beige;
    }

    .mui-bar .mui-pull-left .mui-icon {
        padding-right: 5px;
        font-size: 28px;
    }

    .mui-bar .mui-btn {
        font-weight: normal;
        font-size: 17px;
    }

    .mui-bar .mui-btn-link {
        top: 1px;
    }

    .mui-content img {
        width: 100%;
    }

    .hm-description {
        margin: 15px;
    }

    .hm-description>li {
        font-size: 14px;
        color: #8f8f94;
    }
    </style>
</head>

<body>
<!--     <header id="header" class="mui-bar">
        <h1 class="mui-title">和包基础功能测试页面</h1>
    </header> -->
    <div class="mui-content">
        <div id="slider" class="mui-slider" style="max-height: 150px;">
        </div>
        <ul class="mui-table-view mui-grid-view mui-grid-9">
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="tiaoban.html"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                跳板
            </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="toCMPPage.html"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                 至原生页
            </div>
        </a>
            </li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="toOCR.html"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                OCR
            </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="mailist.html"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                通讯录
            </div>
        </a></li>
          <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="H5fetchPayPlug.html"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                支付
            </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="callToPayRecharge.html" "><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  充值
                </div>
        </a></li>

            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
                <a href="javascript:void(0);" onclick="cmpNativeCall({actionName:'20001',needCmpLoadding:false,callback:'callback20001'});">
            <span class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">设备信息</div>
            </a>
            </li>

            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="cmpInit()"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                优惠劵I
            </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="getLocationInfo()"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                定位功能
            </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="CmpExitAction();"><span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                 退出和包
             </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="CMPShareAction('www.baidu.com','我是一个标题');"><span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                 分享功能
             </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="H5shareToWeChatMiniApps();"><span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                分享小程序
             </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="CmpTakePhoto(0,0);"> <span
                class="mui-icon mui-icon-home" id="CmpTakePhoto"></span>
            <div class="mui-media-body">
                Cmp拍照
            </div>
        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="H5CmpSetTitleMenuList();"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                动态菜单
            </div>
        </a></li>

        </a></li>
            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="H5CmpRemoveTitleMenuList();"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                清空动态菜单
            </div>
        </a></li>

            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="CmpOpenMapLocation('长沙','长沙天园假日小区','28.197272','112.983306','28.196794','113.07177');"> <span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                拉起地图
            </div>
        </a></li>
        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="CmpSavePicToAlbum('http://images.cnblogs.com/cnblogs_com/xinhudong/1120321/o_TIM%E6%88%AA%E5%9B%BE20171222164207.png')"> <span
                class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  保存图片
                </div>
        </a></li>
            <!-- <iframe src="www.baidu.com"></iframe> -->

            <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="CmpReadCardInfo('https://wwww.baidu.com','https://www.taobao.com')"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  识别名片
                </div>
        </a></li>

         <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="scanCodeByApp()"> <span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  扫一扫
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="getIosNetType()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  获取网络信息
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="shareToWeChat('分享测试','https://www.baidu.com','哈哈哈你好呀','')"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  分享到微信
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="cyberapp://IOSShare#IOSShareTitle=测试#IOSShareURL=www.baidu.com#IOSShareDetails=测试内容"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  activity形式分享
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="shareToQQ('分享测试','https://www.baidu.com','哈哈哈你好呀','')"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  分享到qq
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="shareToSinaWeibo('我是分享的内容','https://www.baidu.com')"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  分享到微博
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="activity://ZZ"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  转账
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="activity://TX"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  提现
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="activity://CMPWebViewPop"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  关闭浏览器(不返回首页)
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="checkIsLocalNum.html"> <span
                class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  是否本机
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="CMPCheckPayPassword()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  传支付密码
                </div>
        </a></li>


        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="getTokenForH5()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  获取token
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="cmpOpenDeepLinkApp('miguvideo://amber_deeplink?DLSI=a75b353fe99443b5af2edd6bf443414e&JA=miguvideos','https://itunes.apple.com/cn/app/he-bao-he-bao-guan-fang-ke/id597795676?mt=8')"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  调起咪咕
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="PartySchool://?jumptype=hepay"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  拉起党建云
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="hefeixin://"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  调起和飞信
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="CmpLifeCheck()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  国政通
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="CmpStartAnyChatJs()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  双录
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="lifeCheckPlus.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  国政通优化(支持他人)
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);"onclick="CMPResetPayPassword()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  重置支付密码
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="activity://YHKGL"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  银行卡管理内部跳转
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="cmpOutPay.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  支付能力外放
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="messageUI.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  拉起短信面板
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="billChecking()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  拉起账单
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="checkDetails.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  账单条件查询
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="billDetails.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  账单详情查询
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="javascript:void(0);" onclick="goCardClipIndex();"><span
                class="mui-icon mui-icon-home"></span>
            <div class="mui-media-body">
                 拉起原生名片
             </div>
        </a></li>

         <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="billDetailsISKCD.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  亲属卡交易详情
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="hjq.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  和家亲测试页面
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="wkwebviewClick()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  WKWebView测试
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="goSinglePacketsContactWithName()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  通讯录单选(带名字)
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="goSinglePacketsContact()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  通讯录单选
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="bankCardDesc.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  银行卡详情页
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="getContacts()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  获取通讯录列表
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="youke.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  游客模式拉起登录页面
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="startHtcsCode()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  初始化地铁SDK
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="CmpSetCsMetroValue('helloworld')"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  地铁写缓存
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="CmpGetCsMetroValue()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  地铁读缓存
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="CmpGetSsoUrl('https://www.baidu.com')"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  单点登录
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="sendToHtcsCode()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  发送信息给地铁SDK
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="ditie_liangdu.html"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  调节地铁亮度
                </div>
        </a></li>

        <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="downLatestApp()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  H5检测更新
                </div>
        </a></li>

         <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a onclick="getNetworkType()"><span class="mui-icon mui-icon-home"></span>
                <div class="mui-media-body">
                  H5获取网络状态
                </div>
        </a></li>

        </ul>
        <div class="mui-card">
            <ul class="mui-table-view">
                <li class="mui-table-view-cell mui-collapse" id="titleId0" style="display: none;"><a class="mui-navigate-right" href="#">通讯录数据：</a>
                    <div class="mui-collapse-content">
                        <div class="mui-input-row" style="margin: 10px 5px;">
                            <textarea id="content0" rows="20" placeholder="多行文本框"></textarea>
                        </div>
                    </div>
                </li>
                <li class="mui-table-view-cell mui-collapse"><a class="mui-navigate-right" href="#" id="titleId1">响应数据：</a>
                    <div class="mui-collapse-content">
                        <div class="mui-input-row" style="margin: 10px 5px;">
                            <textarea id="content" rows="20" placeholder="多行文本框"></textarea>
                        </div>
                    </div>
                </li>
                <li class="mui-table-view-cell mui-collapse"><a class="mui-navigate-right" href="#" id="titleId2">响应数据2：</a>
                    <div class="mui-collapse-content">
                        <div class="mui-input-row" style="margin: 10px 5px;">
                            <textarea id="content2" rows="20" placeholder="多行文本框"></textarea>
                        </div>
                    </div>
                </li>
                <li class="mui-table-view-cell mui-collapse" id="li3">
                </li>
            </ul>
        </div>
    </div>
    <script type="text/javascript" src="js/core-3.1.1.min.js"></script>
    <script src="libs/juicer.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/mui.min.js"></script>
    <script src="http://wechatfe.github.io/vconsole/lib/vconsole.min.js?v=3.0.0.0"></script>
    <script>


    var vConsole = new VConsole();

    var num = 0;
    var flg = 0;
    // var html= "<img style='width: 40px;' height='40'  src='https://oimagea2.ydstatic.com/image?id=-7191942773245671392&product=adpublish&w=640&h=480&sc=0&rm=0'/>"
    // $("#li3").html(html);

    // document.write(html);  
    //     var CmpTakePhoto = document.getElementById("CmpTakePhoto");
    // document.write(html);
    // $("#CmpTakePhoto").html();
    var callBackGetPacketsContactsNum = 0;

    // window.location.href="http://shanghepinpai.com"; 
    // setTimeout( function(){
    //     window.location.href='http://www.baidu.com?activity://HJB';
    // }, 1 * 1000 );//延迟5000毫米

    function takePhotoBack(json) {
        // var title = document.getElementById("titleId1");
        // title.innerHTML = '自定义拍照功能:';
        // var info = document.getElementById("content");
        // var data = JSON.parse(json);
        // var base64 = data.photo;
        // console.log(data);
        // var html = "<img style='width: 40px;' height='40'  src='data:image/jpg;base64," + base64 + "'/>"
        // // document.write(html);  
        // // var CmpTakePhoto = document.getElementById("CmpTakePhoto");
        // // CmpTakePhoto.innerHTML(html);
        // $("#li3").html(html);
        // info.innerHTML= json.photo;

    }

    //初始化地铁SDK
    function startHtcsCode(){
        //初始化需要的参数,以下为测试值
        var params = {
            cardNo: '00000000001000002843',
            passCode: '00201904251537030000310300054948',
            userId: '2019042200003103',
            accountId: '00201904220000002711',
            keyhex: '1ECA7F904EED8E3ECCB5D57B5BE42AB6',
            serverId: 'C0120190420ABCDEF',
            secrect: ''
        };
        CmpStartHtcsCode(params);
    }

    function callBackSSOResult(str){
        alert(str);
    }

    //地铁读缓存
    function callBackCMPCsMetroValue(value){
        alert(value);
    }

    //初始化地铁SDK方法的回调函数
    function callBackHtcsCodeResult(str){
        /**
            errorCode ：
             10000：     通知页面展示 蓝牙未开启页面展示
             10001：     通知页面展示 进站二维码展示
             10002：     通知页面展示 出站二维码展示
             10003：     通知页面    刷新页面
             10004：     通知页面展示 进站成功页面展示
             10005：     通知页面展示 出站成功页面展示
             10006：     通知页面展示 清进站成功页面展示
             10007：     通知页面展示 清出站成功页面展示
             10008：     通知页面展示 罚款通知页面
             10009：     通知页面展示 罚款成功
             10010：     通知页面展示 罚款失败
             10011：     通知页面展示 已出站二维码展示
             codeStr：   当前用于生成二维码的字符串
             msg:用于提示用户的说明
             bleStatus: 0:未开启 1:已开启
        */
        mui.toast(str);
    }

    //客户端发送消息给SDK
    function sendToHtcsCode(){
        /**
             和包客户端发送信息给 sdk
             @param dic 传递的参数
             code:
             20000:通知 地铁sdk 获取最新二维码
             20001:通知 地铁sdk 超时罚款 同意罚款
             20003:通知 地铁sdk 超时罚款 拒绝罚款
             20004:通知 地铁sdk 二维码页面出现
             20005:通知 地铁sdk 退出二维码 页面
             20006:通知 地铁sdk 获取异常票
             20007:通知 地铁sdk 开启蓝牙
             ...
             遗漏 后续在定
             msg:描述 如 点击了 我知道了
 
        */
        var params = {
            code:"20000",
            msg:"获取最新二维码"
        };
        CmpSendToHtcsCode(params);
    }

    function Camera(type) {
        var btn;
        if (type == 0) {
            btn = document.getElementById("camera");
        } else if (type == 1) {
            btn = document.getElementById("camcorder")
        } else if (type == 2) {
            btn = document.getElementById("microphone")
        }
        btn.click();
    }

    function handleSuccess(result){
        if(result == true){
            mui.toast("分享成功");
        }else {
            mui.toast("分享失败");
        }
    }

    function shareCallback(code){
        if(code == 0){
            mui.toast("分享成功");
        }else if(code == 1) {
            mui.toast("分享失败");
        }else if (code == 2) {
            mui.toast("取消分享");
        }else {
            mui.toast(code);
        }
    }

    function wkwebviewClick(){
        window.webkit.messageHandlers.nextBtnClick.postMessage("参数");
    }

    function loadURL(url) {
        var iFrame;
        iFrame = document.createElement("iframe");
        iFrame.setAttribute("src", url);
        iFrame.setAttribute("style", "display:none;");
        iFrame.setAttribute("height", "0px");
        iFrame.setAttribute("width", "0px");
        iFrame.setAttribute("frameborder", "0");
        document.body.appendChild(iFrame);
        // 发起请求后这个 iFrame 就没用了，所以把它从 dom 上移除掉
        iFrame.parentNode.removeChild(iFrame);
        iFrame = null;
    }


    //双录
    function CmpStartAnyChatJs(){
        var fileUrl = "http://vip.anychat.cn/irecord2/2.zip";
        var fileId = "20170518";
        var fileMd5 = "b349819bca1d1a4dc85df9a31829e934";
        var fileType = "1";
        var userName = "123456";//用户名
        var ip = "120.76.248.33";
        var port = "8906";
        CmpStartAnyChat(fileUrl,fileId,fileMd5,fileType,userName,ip,port);
    }

    function callBackAnyChat(str){
        alert(str);
    }

    function firstClick() { //默认加载完后。直接调用接口
        loadURL("cmpExec://functionName=cmpInit2&aaa=aaa");
    }

    function callback(json) {
        var title = document.getElementById("titleId1");
        title.innerHTML = '话费抵扣券查询:';
        var info = document.getElementById("content");
        info.innerHTML = JSON.stringify(json);
    }

    function notifyAuthSuccess() {
        mui.alert('实名成功了哟', 'Hello', function() {
            info.innerText = '你刚关闭了警告框';
        });
    }

    function callback20001(json) {

        var info = document.getElementById("content");
        info.innerHTML = JSON.stringify(json);
        var title = document.getElementById("titleId1");
        title.innerHTML = '设备信息响应数据:';

    }

    function callback2(json) {
        // var info = document.getElementById("content2");
        // // var MSGREC3=JSON.stringify(json['MSGREC3'][0]);
        var title = document.getElementById("titleId1");
        title.innerHTML = 'banner接口响应数据:';
        var MSGREC3 = json['MSGREC3'][0];
        var rec = MSGREC3['REC'];
        // info.innerText =JSON.stringify(rec);

        var tpl = document.getElementById('tpl').innerHTML;
        var data1 = { 'REC': rec, 'count': rec.length };
        var html = juicer(tpl, data1);
        var sliderid = document.getElementById('slider');
        sliderid.innerHTML = html;
        // alert(html);
        var slider = mui("#slider");
        slider.slider({
            interval: 5000
        });
    }

    function test() {
        var tpl = document.getElementById('tpl').innerHTML;
        var html = juicer(tpl, data);
        var sliderid = document.getElementById('slider');
        sliderid.innerHTML = html;
        alert(html);
        var slider = mui("#slider");
        slider.slider({
            interval: 5000
        });
    }

    function cmpInit() {
        alert('开始调用接口!');
        cmpNativeCall({
            actionName: '50001',
            reqData: { PEMBLNO: '18711183169' },
            callback: 'callback'
        });
    }

    function cmpInit2() {
        alert('开始调用接口!');
        cmpNativeCall({
            actionName: ['50001', '50002'],
            reqData: [{ PEMBLNO: '18711183169' },
                {
                    MSGAPP: 11,
                    MSGID: "",
                    MSGPROVCD: "",
                    MSGTYP: 3
                }
            ],
            callback: ['callback', 'callback2']
        });
    }

    function callBackGetLocationInfo(json) {
        // $("#titleId0").show();
        // var info2 = document.getElementById("titleId0");
        // info2.innerHTML = '定位' + (++num);
        var info = document.getElementById("content");
        info.innerHTML = json; //JSON.stringify(json);
        // var title = document.getElementById("titleId1");
        // title.innerHTML = '定位响应数据:';
    }

    function getAddressList() {
        goBatchPacketsContact('30', '18711093252,18711093252,18711093252');
    }

    function H5shareToWeChatMiniApps() {
        var url = "http://pm.cyberwise.com.cn/www/HebaoH5/index.html";
        var appid = 'gh_67d030d5af75';
        var path = "pages/index/index";
        var title = "中国移动和包";
        var desc = '充话费、充流量、和聚宝、和包券、生活缴费、发红包、NFC，你的移动互联网生活一网打尽，更多精彩，期待关注 ';
        var headImg = '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';
        shareToWeChatMiniApps(url, appid, path, headImg, title, desc);
    }
    mui.init({
        statusBarBackground: '#fff',
        swipeBack: true
    });
    window.onload = function() {
        alert('加载完成');
        setTimeout(function() {
            // H5CmpSetTitleMenuList();
        }, 2000);

        // firstClick();
    }

    function goSinglePacketHide() {
        flg = 0;
        goSinglePacketsContact();
    }

    function goSinglePacketShow() {
        flg = 1;
        goSinglePacketsContact();
    }
    //通讯录方法回调
    window.callBackGetPacketsContacts = function(data) {
        var info = document.getElementById("titleId0");
        mui.alert('data--:' + data, 'Hello', function() {

        });
        info.innerHTML = data + (++callBackGetPacketsContactsNum);
        if (flg) {
            $("#titleId0").show();
        }
    }

    function callBackGetPacketsContactsWithName(data){
        mui.toast('通讯录回调结果' + data);
    }

    function H5CmpSetTitleMenuList() {
        var menu = [{'menuName':'交易记录','menuUrl':'javascript:window.skipUrl()'}];
        alert(JSON.stringify(menu))
        CmpSetTitleMenuList(JSON.stringify(menu));
    }

    function H5CmpRemoveTitleMenuList() {
        CmpSetTitleMenuList();
    }

    function H5CmpSaveToAddrList() {
        var data = [{ name: '大王', mobile: '13899999999' }, { name: '王八', mobile: '13988888888' }];
        CmpSaveToAddrList(data, 'H5CmpSaveToAddrListCallBack');

    }

    function H5CmpSaveToAddrListCallBack(state) {
        mui.toast('添加回调成功:' + state, { duration: 'long', type: 'div' })

    }

    function H5CmpDeleFromAddrList() {
        var data = [{ name: '大王', mobile: '13899999999' }, { name: '王八', mobile: '13988888888' }];
        CmpDeleFromAddrList(data, 'H5CmpDeleFromAddrListCallBack');
    }

    function H5CmpDeleFromAddrListCallBack(state) {
        mui.toast('删除回调成功:' + state, { duration: 'long', type: 'div' })

    }

    function testback() {
        mui.toast('成功', { duration: 'long', type: 'div' })
    }

    //用于统一显示的内容
    function changeContent(titlecontent,content){
        var title = document.getElementById("titleId1");
        title.innerHTML=titlecontent;
        var info = document.getElementById("content");
        info.innerHTML = content;
    }

    //扫一扫回调方法
    function callbackScanCodeByApp(url){

        info.innerHTML = url;
        changeContent("扫描结果为",url)
        // alert("扫描结果为  " + url);
    }

    //获取网络类型
    function getIosNetType(){
        var a = CmpGetIOSNetType();
        changeContent("网络类型为",a);
    }

    var shotCount = 0;
    //获取截屏状态  status为截屏状态
    function CmpGetIOSScreenshotStatus(status){
        changeContent("本次截屏状态为",status);
        var title = document.getElementById("titleId2");
        title.innerHTML = '记录截屏次数:';
        var info = document.getElementById("content2");
        shotCount++;
        info.innerHTML = "截屏次数为" + shotCount;
    }

    function onTake(){
        console.log('调起成功');
    }

    function  callBackCMPCheckPayPassword(PAYPSWD,PAYKEY){
        var title = document.getElementById("titleId1");
        title.innerHTML="收到的密码内容:";
        var info = document.getElementById("content");
        info.innerHTML = "密码(PAYPSWD):" + PAYPSWD + "    密码键值(PAYKEY):" + PAYKEY;
    }

    function callbackLifeCheck(result){
        changeContent("国政通验证状态",result);
    }

    function callbackLifeCheckPlus(result){
        changeContent("国政通plus验证结果，打印流水号",result);
    }

    //名片的回调
    function callBackCmpReadCardInfo(result){
        console.log(result);
        var jsonObj = JSON.stringify(result);
        changeContent("名片的回调:",jsonObj);
    }
     var tokenNum = 0;
    //获取token
    function getTokenForH5CallBack(status,result){
        console.log("===="+(++tokenNum));
        changeContent("获取token返回的结果"+(++tokenNum),"状态:" + status+"  "+"结果:"+result);
    }

    function callBackCMPResetPayPassword(result){
        changeContent("重置密码结果"+result);
    }

    function callBackGetPacketsContacts(s){
        var info = document.getElementById("content");
        info.innerHTML = "单选结果:" + s;
        // callBackGetContacts();
    }

    function callBackGetContacts(s){
        var info = document.getElementById("content");
        info.innerHTML = "获取所有通讯录:" + s;
    }

    function getNetworkType_callback(value){
         var info = document.getElementById("content");
         info.innerHTML = value;
    }
    </script>
</body>
<script id="tpl" type="text/template">
    <div class="mui-slider-group mui-slider-loop">
        {@each REC as it,index} {@if index==0}
        <div class="mui-slider-item mui-slider-item-duplicate">
            <a href="${it.MSGDESTURL}">
                <img src="${it.MSGIMG}">
            </a>
        </div>
        <!-- 第一张 -->
        <div class="mui-slider-item">
            <a href="${it.MSGDESTURL}">
                <img src="${it.MSGIMG}">
            </a>
        </div>
        {@else if index === count}
        <!-- 第四张 -->
        <div class="mui-slider-item">
            <a href="${it.MSGDESTURL}">
                <img src="${it.MSGIMG}">
            </a>
        </div>
        <!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
        <div class="mui-slider-item mui-slider-item-duplicate">
            <a href="${it.MSGDESTURL}">
                <img src="${it.MSGIMG}">
            </a>
        </div>
        {@else}
        <div class="mui-slider-item">
            <a href="${it.MSGDESTURL}">
                <img src="${it.MSGIMG}">
            </a>
        </div>
        {@/if} {@/each}
    </div>
    <div class="mui-slider-indicator">
        {@each REC as it,index} {@if index==0}
        <div class="mui-indicator mui-active"></div>
        {@else}
        <div class="mui-indicator"></div>
        {@/if} {@/each}
    </div>
</script>

</html>
